!function(){function e(e){return e&&e.__esModule?e.default:e}var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};var t={};function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,n,t){n&&o(e.prototype,n);t&&o(e,t);return e};var r=function(){"use strict";function o(){e(n)(this,o),this.searchQuery="",this.page=1}return e(t)(o,[{key:"fetchArticles",value:function(){var e=this;console.log(this),console.log(this.searchQuery),console.log(this.page);var n="https://pixabay.com/api/?key=28074243-fd9335165c63977f864a46342&q=".concat(this.searchQuery,"&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=").concat(this.page);return fetch(n).then((function(e){return e.json()})).then((function(n){var t=n.hits;return console.log(t),e.incrementPage(),t}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),o}(),a={searchForm:document.querySelector(".search-form"),articlesContainer:document.querySelector(".js-articles-container"),inputEl:document.querySelector(".input"),btnEl:document.querySelector(".btn"),loadMoreBtn:document.querySelector('[data-action="load-more"]'),loadMoreBtnSpiner:document.querySelector(".spinner-border"),loadMoreBtnSpan:document.querySelector(".label")},i=new r;function c(){a.loadMoreBtn.disabled=!1,a.loadMoreBtnSpan.textContent="Показать ещё",a.loadMoreBtnSpiner.classList.add("is-hidden")}function s(){a.loadMoreBtn.disabled=!0,a.loadMoreBtnSpan.textContent="Загружаем...",a.loadMoreBtnSpiner.classList.remove("is-hidden")}function l(e){console.log(e),a.articlesContainer.insertAdjacentHTML("beforeend",function(e){return console.log(e),e.map((function(e){var n=e.webformatURL,t=e.likes,o=e.views,r=e.comments,a=e.tags,i=e.downloads;return'<div class="photo-card">\n  <img width="300" height="200" src="'.concat(n,'" alt="').concat(a,'" loading="lazy" />\n  <div class="info">\n    <p class="info-item">\n      <b>Likes</b>\n').concat(t,'\n    </p>\n    <p class="info-item">\n      <b>Views</b>\n').concat(o,'\n    </p>\n    <p class="info-item">\n      <b>Comments</b>\n').concat(r,'\n    </p>\n    <p class="info-item">\n      <b>Downloads</b>\n').concat(i,"\n    </p>\n  </div>\n</div>")})).join("")}(e))}a.searchForm.addEventListener("submit",(function(e){e.preventDefault(),i.resetPage(),a.loadMoreBtn.classList.remove("is-hidden"),s(),i.query=e.currentTarget.elements.query.value,console.log(i.query),i.fetchArticles().then((function(e){a.articlesContainer.innerHTML="",l(e),c()}))})),a.loadMoreBtn.addEventListener("click",(function(){s(),i.fetchArticles().then((function(e){l(e),c()}))})),a.loadMoreBtn.classList.add("is-hidden"),console.log(a.loadMoreBtnSpiner.textContent)}();
//# sourceMappingURL=index.115c504b.js.map
