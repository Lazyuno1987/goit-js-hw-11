const e={searchForm:document.querySelector(".search-form"),articlesContainer:document.querySelector(".js-articles-container"),inputEl:document.querySelector(".input"),btnEl:document.querySelector(".btn"),loadMoreBtn:document.querySelector('[data-action="load-more"]'),loadMoreBtnSpiner:document.querySelector(".spinner-border"),loadMoreBtnSpan:document.querySelector(".label")},n=new class{fetchArticles(){console.log(this),console.log(this.searchQuery),console.log(this.page);const e=`https://pixabay.com/api/?key=28074243-fd9335165c63977f864a46342&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;return fetch(e).then((e=>e.json())).then((({hits:e})=>(console.log(e),this.incrementPage(),e)))}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}};function t(){e.loadMoreBtn.disabled=!1,e.loadMoreBtnSpan.textContent="Показать ещё",e.loadMoreBtnSpiner.classList.add("is-hidden")}function o(){e.loadMoreBtn.disabled=!0,e.loadMoreBtnSpan.textContent="Загружаем...",e.loadMoreBtnSpiner.classList.remove("is-hidden")}function r(n){console.log(n),e.articlesContainer.insertAdjacentHTML("beforeend",function(e){return console.log(e),e.map((({webformatURL:e,likes:n,views:t,comments:o,tags:r,downloads:s})=>`<div class="photo-card">\n  <img width="300" height="200" src="${e}" alt="${r}" loading="lazy" />\n  <div class="info">\n    <p class="info-item">\n      <b>Likes</b>\n${n}\n    </p>\n    <p class="info-item">\n      <b>Views</b>\n${t}\n    </p>\n    <p class="info-item">\n      <b>Comments</b>\n${o}\n    </p>\n    <p class="info-item">\n      <b>Downloads</b>\n${s}\n    </p>\n  </div>\n</div>`)).join("")}(n))}e.searchForm.addEventListener("submit",(function(s){s.preventDefault(),n.resetPage(),e.loadMoreBtn.classList.remove("is-hidden"),o(),n.query=s.currentTarget.elements.query.value,console.log(n.query),n.fetchArticles().then((n=>{e.articlesContainer.innerHTML="",r(n),t()}))})),e.loadMoreBtn.addEventListener("click",(function(){o(),n.fetchArticles().then((e=>{r(e),t()}))})),e.loadMoreBtn.classList.add("is-hidden"),console.log(e.loadMoreBtnSpiner.textContent);
//# sourceMappingURL=index.a718b116.js.map
